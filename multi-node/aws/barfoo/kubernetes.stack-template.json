{"AWSTemplateFormatVersion":"2010-09-09","Description":"kube-aws Kubernetes cluster kubernetes","Resources":{"AlarmControllerRecover":{"Properties":{"AlarmActions":[{"Fn::Join":["",["arn:aws:automate:",{"Ref":"AWS::Region"},":ec2:recover"]]}],"AlarmDescription":"Trigger a recovery when system check fails for 5 consecutive minutes.","ComparisonOperator":"GreaterThanThreshold","Dimensions":[{"Name":"InstanceId","Value":{"Ref":"InstanceController"}}],"EvaluationPeriods":"5","MetricName":"StatusCheckFailed_System","Namespace":"AWS/EC2","Period":"60","Statistic":"Minimum","Threshold":"0"},"Type":"AWS::CloudWatch::Alarm"},"AutoScaleWorker":{"Properties":{"AvailabilityZones":["us-west-1"],"DesiredCapacity":"1","HealthCheckGracePeriod":600,"HealthCheckType":"EC2","LaunchConfigurationName":{"Ref":"LaunchConfigurationWorker"},"MaxSize":"1","MinSize":"1","Tags":[{"Key":"KubernetesCluster","PropagateAtLaunch":"true","Value":"kubernetes"},{"Key":"Name","PropagateAtLaunch":"true","Value":"kube-aws-worker"}],"VPCZoneIdentifier":[{"Ref":"Subnet"}]},"Type":"AWS::AutoScaling::AutoScalingGroup","UpdatePolicy":{"AutoScalingRollingUpdate":{"MinInstancesInService":"1","MaxBatchSize":"1","PauseTime":"PT2M"}}},"EIPController":{"Properties":{"Domain":"vpc","InstanceId":{"Ref":"InstanceController"}},"Type":"AWS::EC2::EIP"},"IAMInstanceProfileController":{"Properties":{"Path":"/","Roles":[{"Ref":"IAMRoleController"}]},"Type":"AWS::IAM::InstanceProfile"},"IAMInstanceProfileWorker":{"Properties":{"Path":"/","Roles":[{"Ref":"IAMRoleWorker"}]},"Type":"AWS::IAM::InstanceProfile"},"IAMRoleController":{"Properties":{"AssumeRolePolicyDocument":{"Statement":[{"Action":["sts:AssumeRole"],"Effect":"Allow","Principal":{"Service":["ec2.amazonaws.com"]}}],"Version":"2012-10-17"},"Path":"/","Policies":[{"PolicyDocument":{"Statement":[{"Action":"ec2:*","Effect":"Allow","Resource":"*"},{"Action":"elasticloadbalancing:*","Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"PolicyName":"root"}]},"Type":"AWS::IAM::Role"},"IAMRoleWorker":{"Properties":{"AssumeRolePolicyDocument":{"Statement":[{"Action":["sts:AssumeRole"],"Effect":"Allow","Principal":{"Service":["ec2.amazonaws.com"]}}],"Version":"2012-10-17"},"Path":"/","Policies":[{"PolicyDocument":{"Statement":[{"Action":"ec2:Describe*","Effect":"Allow","Resource":"*"},{"Action":"ec2:AttachVolume","Effect":"Allow","Resource":"*"},{"Action":"ec2:DetachVolume","Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"PolicyName":"root"}]},"Type":"AWS::IAM::Role"},"InstanceController":{"Properties":{"AvailabilityZone":"us-west-1","BlockDeviceMappings":[{"DeviceName":"/dev/xvda","Ebs":{"VolumeSize":"30"}}],"IamInstanceProfile":{"Ref":"IAMInstanceProfileController"},"ImageId":"","InstanceType":"m3.medium","KeyName":"foo.pem","NetworkInterfaces":[{"AssociatePublicIpAddress":false,"DeleteOnTermination":true,"DeviceIndex":"0","GroupSet":[{"Ref":"SecurityGroupController"}],"PrivateIpAddress":"10.0.0.50","SubnetId":{"Ref":"Subnet"}}],"Tags":[{"Key":"KubernetesCluster","Value":"kubernetes"},{"Key":"Name","Value":"kube-aws-controller"}],"UserData":"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"},"Type":"AWS::EC2::Instance"},"InternetGateway":{"Properties":{"Tags":[{"Key":"KubernetesCluster","Value":"kubernetes"}]},"Type":"AWS::EC2::InternetGateway"},"LaunchConfigurationWorker":{"Properties":{"BlockDeviceMappings":[{"DeviceName":"/dev/xvda","Ebs":{"VolumeSize":"30"}}],"IamInstanceProfile":{"Ref":"IAMInstanceProfileWorker"},"ImageId":"","InstanceType":"m3.medium","KeyName":"foo.pem","SecurityGroups":[{"Ref":"SecurityGroupWorker"}],"UserData":"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"},"Type":"AWS::AutoScaling::LaunchConfiguration"},"RouteTable":{"Properties":{"Tags":[{"Key":"KubernetesCluster","Value":"kubernetes"}],"VpcId":{"Ref":"VPC"}},"Type":"AWS::EC2::RouteTable"},"RouteToInternet":{"Properties":{"DestinationCidrBlock":"0.0.0.0/0","GatewayId":{"Ref":"InternetGateway"},"RouteTableId":{"Ref":"RouteTable"}},"Type":"AWS::EC2::Route"},"SecurityGroupController":{"Properties":{"GroupDescription":{"Ref":"AWS::StackName"},"SecurityGroupEgress":[{"CidrIp":"0.0.0.0/0","FromPort":0,"IpProtocol":"tcp","ToPort":65535},{"CidrIp":"0.0.0.0/0","FromPort":0,"IpProtocol":"udp","ToPort":65535}],"SecurityGroupIngress":[{"CidrIp":"0.0.0.0/0","FromPort":3,"IpProtocol":"icmp","ToPort":-1},{"CidrIp":"0.0.0.0/0","FromPort":22,"IpProtocol":"tcp","ToPort":22},{"CidrIp":"0.0.0.0/0","FromPort":443,"IpProtocol":"tcp","ToPort":443}],"Tags":[{"Key":"KubernetesCluster","Value":"kubernetes"}],"VpcId":{"Ref":"VPC"}},"Type":"AWS::EC2::SecurityGroup"},"SecurityGroupControllerIngressFromWorkerToEtcd":{"Properties":{"FromPort":2379,"GroupId":{"Ref":"SecurityGroupController"},"IpProtocol":"tcp","SourceSecurityGroupId":{"Ref":"SecurityGroupWorker"},"ToPort":2379},"Type":"AWS::EC2::SecurityGroupIngress"},"SecurityGroupWorker":{"Properties":{"GroupDescription":{"Ref":"AWS::StackName"},"SecurityGroupEgress":[{"CidrIp":"0.0.0.0/0","FromPort":0,"IpProtocol":"tcp","ToPort":65535},{"CidrIp":"0.0.0.0/0","FromPort":0,"IpProtocol":"udp","ToPort":65535}],"SecurityGroupIngress":[{"CidrIp":"0.0.0.0/0","FromPort":3,"IpProtocol":"icmp","ToPort":-1},{"CidrIp":"0.0.0.0/0","FromPort":22,"IpProtocol":"tcp","ToPort":22}],"Tags":[{"Key":"KubernetesCluster","Value":"kubernetes"}],"VpcId":{"Ref":"VPC"}},"Type":"AWS::EC2::SecurityGroup"},"SecurityGroupWorkerIngressFromControllerToFlannel":{"Properties":{"FromPort":8285,"GroupId":{"Ref":"SecurityGroupWorker"},"IpProtocol":"udp","SourceSecurityGroupId":{"Ref":"SecurityGroupController"},"ToPort":8285},"Type":"AWS::EC2::SecurityGroupIngress"},"SecurityGroupWorkerIngressFromControllerToKubelet":{"Properties":{"FromPort":10250,"GroupId":{"Ref":"SecurityGroupWorker"},"IpProtocol":"tcp","SourceSecurityGroupId":{"Ref":"SecurityGroupController"},"ToPort":10250},"Type":"AWS::EC2::SecurityGroupIngress"},"SecurityGroupWorkerIngressFromControllerTocAdvisor":{"Properties":{"FromPort":4194,"GroupId":{"Ref":"SecurityGroupWorker"},"IpProtocol":"tcp","SourceSecurityGroupId":{"Ref":"SecurityGroupController"},"ToPort":4194},"Type":"AWS::EC2::SecurityGroupIngress"},"SecurityGroupWorkerIngressFromWorkerToFlannel":{"Properties":{"FromPort":8285,"GroupId":{"Ref":"SecurityGroupWorker"},"IpProtocol":"udp","SourceSecurityGroupId":{"Ref":"SecurityGroupWorker"},"ToPort":8285},"Type":"AWS::EC2::SecurityGroupIngress"},"SecurityGroupWorkerIngressFromWorkerToKubeletReadOnly":{"Properties":{"FromPort":10255,"GroupId":{"Ref":"SecurityGroupWorker"},"IpProtocol":"tcp","SourceSecurityGroupId":{"Ref":"SecurityGroupWorker"},"ToPort":10255},"Type":"AWS::EC2::SecurityGroupIngress"},"Subnet":{"Properties":{"AvailabilityZone":"us-west-1","CidrBlock":"10.0.0.0/24","MapPublicIpOnLaunch":true,"Tags":[{"Key":"KubernetesCluster","Value":"kubernetes"}],"VpcId":{"Ref":"VPC"}},"Type":"AWS::EC2::Subnet"},"SubnetRouteTableAssociation":{"Properties":{"RouteTableId":{"Ref":"RouteTable"},"SubnetId":{"Ref":"Subnet"}},"Type":"AWS::EC2::SubnetRouteTableAssociation"},"VPC":{"Properties":{"CidrBlock":"10.0.0.0/16","EnableDnsHostnames":true,"EnableDnsSupport":true,"InstanceTenancy":"default","Tags":[{"Key":"KubernetesCluster","Value":"kubernetes"},{"Key":"Name","Value":"kubernetes-kubernetes-vpc"}]},"Type":"AWS::EC2::VPC"},"VPCGatewayAttachment":{"Properties":{"InternetGatewayId":{"Ref":"InternetGateway"},"VpcId":{"Ref":"VPC"}},"Type":"AWS::EC2::VPCGatewayAttachment"}}}